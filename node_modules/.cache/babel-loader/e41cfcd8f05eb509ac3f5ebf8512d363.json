{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{BrowserRouter,Route,Switch}from'react-router-dom';import'./App.css';import NavigationBar from'./components/NavigationBar/NavigationBar.js';import SearchForm from'./components/SearchForm/SearchForm.js';import SearchFilter from'./components/SearchFilter/SearchFilter.js';import ReviewComponent from'./components/ReviewComponent/ReviewComponent.js';import CompareComponent from'./components/CompareComponent/CompareComponent.js';import Popup from'./components/Popup.js';import Particles from'react-particles-js';import Logo from'./components/Logo/Logo';import axios from'axios';var particlesOptions={particles:{number:{value:120,density:{enable:true,value_area:800}}}};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchfield:'',yelpSearchresults:[],googleSearchresults:[],placeDetailsName:'',googleReviewID:'',yelpReviewID:'',zomatoSearchresults:[],zomatoReviewID:'',googleCompareId:'',zomatoCompareId:'',yelpCompareId:'',showPopup:false,latitude:-36.848461,longitude:174.763336,userCity:\"Auckland\"};_this.onInputChange=_this.onInputChange.bind(_assertThisInitialized(_this));_this.onSearchClick=_this.onSearchClick.bind(_assertThisInitialized(_this));_this.onSearchCardClick=_this.onSearchCardClick.bind(_assertThisInitialized(_this));_this.onAddToCompareClick=_this.onAddToCompareClick.bind(_assertThisInitialized(_this));_this.togglePopup=_this.togglePopup.bind(_assertThisInitialized(_this));_this.getCity=_this.getCity.bind(_assertThisInitialized(_this));if(navigator.geolocation){navigator.geolocation.getCurrentPosition(_this.getCity);}return _this;}_createClass(App,[{key:\"onInputChange\",value:function onInputChange(event){this.setState({searchfield:event.target.value});}},{key:\"onSearchClick\",value:function onSearchClick(){var _this2=this;fetch('https://cors-anywhere.herokuapp.com/'.concat(\"https://maps.googleapis.com/maps/api/place/textsearch/json?query=\",this.state.searchfield,\"&location=\").concat(this.state.latitude,\",\").concat(this.state.longitude,\"&radius=10000&key=AIzaSyB4O1O9YEnEd8WnQ3afnSHuvDpx7vsycMw&type=restaurant\")).then(function(response){return response.json();}).then(function(data){_this2.setState({googleSearchresults:data.results});}).then(function(results){console.log(_this2.state.googleSearchresults.length+\" results returned from google (logged in state update)\");});axios.get('https://cors-anywhere.herokuapp.com/'.concat(\"https://api.yelp.com/v3/businesses/search?term=\",this.state.searchfield,\"&location=\").concat(this.state.userCity),{headers:{Authorization:\"Bearer RCxaGe1TDhf1kSiIKQW9Wb9eBfhYtANwDCmKKAO5SdGMYXKQQCXu5LamK9eM8fNZp27OvCZZYjNDGVn2bucWGULytCmdxFZgXah6mB2cAl161Gj14qy_MV4R-MC0XnYx\",'X-Requested-With':'XMLHttpRequest'}}).then(function(response){_this2.setState({yelpSearchresults:response.data.businesses});console.log(response.data.total+\" results returned from yelp\");}).catch(function(err){console.log(\"Error in Yelp Api Call\"+err);});fetch('https://cors-anywhere.herokuapp.com/'.concat(\"https://developers.zomato.com/api/v2.1/search?q=\",this.state.searchfield,\"&count=10&lat=\").concat(this.state.latitude,\"&lon=\").concat(this.state.longitude,\"&radius=100000\"),{headers:{Accept:\"application/json\",\"User-Key\":\"84d624178d6b4c6219f90cd5634fd956\"}}).then(function(response){return response.json();}).then(function(data){_this2.setState({zomatoSearchresults:data.restaurants});}).then(function(results){console.log(_this2.state.zomatoSearchresults);});}},{key:\"getCity\",value:function getCity(position){var _this3=this;this.setState({latitude:position.coords.latitude,longitude:position.coords.longitude});fetch(\"https://geocode.xyz/\".concat(this.state.latitude,\",\").concat(this.state.longitude,\"?json=1\")).then(function(response){return response.json();}).then(function(data){_this3.setState({userCity:data.city});}).then(console.log);}},{key:\"onSearchCardClick\",value:function onSearchCardClick(name,google_id,yelp_id,zomato_id){this.setState({placeDetailsName:name,googleReviewID:google_id,yelpReviewID:yelp_id,zomatoReviewID:zomato_id});}},{key:\"onAddToCompareClick\",value:function onAddToCompareClick(source,id){if(source===\"yelp\"){this.setState({yelpCompareId:id});this.togglePopup();}else if(source===\"google reviews\"){this.setState({googleCompareId:id});this.togglePopup();}else if(source===\"zomato\"){this.setState({zomatoCompareId:id});this.togglePopup();}}},{key:\"togglePopup\",value:function togglePopup(){this.setState({showPopup:!this.state.showPopup});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/ (// Particles.js library for styling the application\nReact.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Particles,{className:\"particles\",params:particlesOptions}),/*#__PURE__*/React.createElement(BrowserRouter,null,\" \",/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'flex-end'}},/*#__PURE__*/React.createElement(NavigationBar,null),\"  \"),/*#__PURE__*/React.createElement(Logo,null),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(props){return/*#__PURE__*/React.createElement(SearchForm,Object.assign({},props,{searchfield:_this4.state.searchfield,onInputChange:_this4.onInputChange,onSearchClick:_this4.onSearchClick}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/searchfilter\",render:function render(props){return/*#__PURE__*/React.createElement(SearchFilter,Object.assign({},props,{googleSearchresults:_this4.state.googleSearchresults,yelpSearchresults:_this4.state.yelpSearchresults,zomatoSearchresults:_this4.state.zomatoSearchresults,onSearchCardClick:_this4.onSearchCardClick}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/reviewcomponent\",render:function render(props){return/*#__PURE__*/React.createElement(ReviewComponent,Object.assign({},props,{google_place_ID:_this4.state.googleReviewID,yelp_place_ID:_this4.state.yelpReviewID,zomato_place_ID:_this4.state.zomatoReviewID,onAddToCompareClick:_this4.onAddToCompareClick}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/comparecomponent\",render:function render(props){return/*#__PURE__*/React.createElement(CompareComponent,Object.assign({},props,{yelpCompareId:_this4.state.yelpCompareId,googleCompareId:_this4.state.googleCompareId,zomatoCompareId:_this4.state.zomatoCompareId}));}}))),this.state.showPopup?/*#__PURE__*/React.createElement(Popup,{closePopup:this.togglePopup.bind(this)}):null));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/iahme/Documents/Projects/RestaurantReviewsTool/src/App.js"],"names":["React","BrowserRouter","Route","Switch","NavigationBar","SearchForm","SearchFilter","ReviewComponent","CompareComponent","Popup","Particles","Logo","axios","particlesOptions","particles","number","value","density","enable","value_area","App","props","state","searchfield","yelpSearchresults","googleSearchresults","placeDetailsName","googleReviewID","yelpReviewID","zomatoSearchresults","zomatoReviewID","googleCompareId","zomatoCompareId","yelpCompareId","showPopup","latitude","longitude","userCity","onInputChange","bind","onSearchClick","onSearchCardClick","onAddToCompareClick","togglePopup","getCity","navigator","geolocation","getCurrentPosition","event","setState","target","fetch","then","response","json","data","results","console","log","length","get","headers","Authorization","businesses","total","catch","err","Accept","restaurants","position","coords","city","name","google_id","yelp_id","zomato_id","source","id","display","justifyContent","Component"],"mappings":"w5BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA4C,kBAA5C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,6CAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,uCAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2CAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,iDAA5B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mDAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,CACvBC,SAAS,CAAE,CACTC,MAAM,CAAE,CACNC,KAAK,CAAE,GADD,CAENC,OAAO,CAAE,CACPC,MAAM,CAAE,IADD,CAEPC,UAAU,CAAE,GAFL,CAFH,CADC,CADY,CAAzB,C,GAYMC,CAAAA,G,sGACJ,aAAYC,KAAZ,CAAkB,qCAChB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,iBAAiB,CAAE,EAFR,CAGXC,mBAAmB,CAAE,EAHV,CAIXC,gBAAgB,CAAE,EAJP,CAKXC,cAAc,CAAE,EALL,CAMXC,YAAY,CAAE,EANH,CAOXC,mBAAmB,CAAE,EAPV,CAQXC,cAAc,CAAE,EARL,CAUXC,eAAe,CAAE,EAVN,CAWXC,eAAe,CAAE,EAXN,CAYXC,aAAa,CAAE,EAZJ,CAaXC,SAAS,CAAE,KAbA,CAaYC,QAAQ,CAAE,CAAC,SAbvB,CAcXC,SAAS,CAAE,UAdA,CAeXC,QAAQ,CAAE,UAfC,CAAb,CAiBA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CAEA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,+BAAzB,CACA,MAAKG,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBH,IAAzB,+BAA3B,CACA,MAAKI,WAAL,CAAmB,MAAKA,WAAL,CAAiBJ,IAAjB,+BAAnB,CACH,MAAKK,OAAL,CAAe,MAAKA,OAAL,CAAaL,IAAb,+BAAf,CACA,GAAIM,SAAS,CAACC,WAAd,CAA2B,CACtBD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,MAAKH,OAA9C,EACD,CA5Be,aA4BZ,C,oEAEQI,K,CAAO,CACnB,KAAKC,QAAL,CAAc,CAAC1B,WAAW,CAAEyB,KAAK,CAACE,MAAN,CAAalC,KAA3B,CAAd,EAED,C,qDAEe,iBACdmC,KAAK,CAAI,sCAAJ,4EAA8G,KAAK7B,KAAL,CAAWC,WAAzH,sBAAiJ,KAAKD,KAAL,CAAWa,QAA5J,aAAwK,KAAKb,KAAL,CAAWc,SAAnL,8EAAL,CACDgB,IADC,CACI,SAAAC,QAAQ,QAAGA,CAAAA,QAAQ,CAACC,IAAT,EAAH,EADZ,EAEGF,IAFH,CAEQ,SAAAG,IAAI,CAAI,CAAC,MAAI,CAACN,QAAL,CAAc,CAAExB,mBAAmB,CAAE8B,IAAI,CAACC,OAA5B,CAAd,EAAoD,CAFrE,EAGGJ,IAHH,CAGQ,SAAAI,OAAO,CAAI,CAACC,OAAO,CAACC,GAAR,CAAY,MAAI,CAACpC,KAAL,CAAWG,mBAAX,CAA+BkC,MAA/B,CAAwC,wDAApD,EAA8G,CAHlI,EAKA/C,KAAK,CAACgD,GAAN,CAAa,sCAAb,0DAAqG,KAAKtC,KAAL,CAAWC,WAAhH,sBAAwI,KAAKD,KAAL,CAAWe,QAAnJ,EAA+J,CAC7JwB,OAAO,CAAG,CACRC,aAAa,0IADL,CAER,mBAAoB,gBAFZ,CADmJ,CAA/J,EAKGV,IALH,CAKQ,SAAAC,QAAQ,CAAI,CAAC,MAAI,CAACJ,QAAL,CAAc,CAACzB,iBAAiB,CAAE6B,QAAQ,CAACE,IAAT,CAAcQ,UAAlC,CAAd,EACbN,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACE,IAAT,CAAcS,KAAd,CAAsB,6BAAlC,EAAkE,CAN1E,EAOGC,KAPH,CAOS,SAAAC,GAAG,CAAI,CAACT,OAAO,CAACC,GAAR,CAAY,yBAA2BQ,GAAvC,EAA4C,CAP7D,EAUAf,KAAK,CAAI,sCAAJ,2DAA6F,KAAK7B,KAAL,CAAWC,WAAxG,0BAAoI,KAAKD,KAAL,CAAWa,QAA/I,iBAA+J,KAAKb,KAAL,CAAWc,SAA1K,mBAAqM,CACxMyB,OAAO,CAAE,CACTM,MAAM,CAAE,kBADC,CAET,WAAY,kCAFH,CAD+L,CAArM,CAAL,CAKGf,IALH,CAKQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EALhB,EAMCF,IAND,CAMM,SAAAG,IAAI,CAAI,CAAC,MAAI,CAACN,QAAL,CAAc,CAAEpB,mBAAmB,CAAE0B,IAAI,CAACa,WAA5B,CAAd,EAAwD,CANvE,EAOChB,IAPD,CAOM,SAAAI,OAAO,CAAI,CAACC,OAAO,CAACC,GAAR,CAAY,MAAI,CAACpC,KAAL,CAAWO,mBAAvB,EAA4C,CAP9D,EAQD,C,wCAEOwC,Q,CAAU,iBAChB,KAAKpB,QAAL,CAAc,CACZd,QAAQ,CAAEkC,QAAQ,CAACC,MAAT,CAAgBnC,QADd,CAEZC,SAAS,CAAEiC,QAAQ,CAACC,MAAT,CAAgBlC,SAFf,CAAd,EAKAe,KAAK,+BAAwB,KAAK7B,KAAL,CAAWa,QAAnC,aAA+C,KAAKb,KAAL,CAAWc,SAA1D,YAAL,CACGgB,IADH,CACQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADhB,EAEGF,IAFH,CAEQ,SAAAG,IAAI,CAAI,CAAC,MAAI,CAACN,QAAL,CAAc,CAACZ,QAAQ,CAAEkB,IAAI,CAACgB,IAAhB,CAAd,EAAqC,CAFtD,EAGGnB,IAHH,CAGQK,OAAO,CAACC,GAHhB,EAID,C,4DAEiBc,I,CAAMC,S,CAAWC,O,CAASC,S,CAAU,CACpD,KAAK1B,QAAL,CAAc,CAACvB,gBAAgB,CAAE8C,IAAnB,CACZ7C,cAAc,CAAE8C,SADJ,CAEZ7C,YAAY,CAAE8C,OAFF,CAGZ5C,cAAc,CAAE6C,SAHJ,CAAd,EAKD,C,gEAEmBC,M,CAAQC,E,CAAI,CAC9B,GAAGD,MAAM,GAAK,MAAd,CAAqB,CACnB,KAAK3B,QAAL,CAAc,CAAChB,aAAa,CAAE4C,EAAhB,CAAd,EACA,KAAKlC,WAAL,GACD,CAHD,IAGO,IAAGiC,MAAM,GAAK,gBAAd,CAAgC,CACrC,KAAK3B,QAAL,CAAc,CAAClB,eAAe,CAAE8C,EAAlB,CAAd,EACA,KAAKlC,WAAL,GACD,CAHM,IAGA,IAAGiC,MAAM,GAAK,QAAd,CAAuB,CAC9B,KAAK3B,QAAL,CAAc,CAACjB,eAAe,CAAE6C,EAAlB,CAAd,EACA,KAAKlC,WAAL,GACC,CACF,C,iDAEa,CACZ,KAAKM,QAAL,CAAc,CACZf,SAAS,CAAE,CAAC,KAAKZ,KAAL,CAAWY,SADX,CAAd,EAGD,C,uCAEO,iBACN,oBACE;AACA,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,SAAD,EAAW,SAAS,CAAC,WAArB,CACE,MAAM,CAAErB,gBADV,EADF,cAGE,oBAAC,aAAD,uBACE,2BAAK,KAAK,CAAE,CAACiE,OAAO,CAAE,MAAV,CAAkBC,cAAc,CAAE,UAAlC,CAAZ,eACE,oBAAC,aAAD,MADF,MADF,cAIE,oBAAC,IAAD,MAJF,cAKE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CACE,KAAK,KADP,CAEE,MAAM,CAAE,gBAAC1D,KAAD,qBAAW,oBAAC,UAAD,kBAAgBA,KAAhB,EACC,WAAW,CAAE,MAAI,CAACC,KAAL,CAAWC,WADzB,CAEC,aAAa,CAAE,MAAI,CAACe,aAFrB,CAGC,aAAa,CAAE,MAAI,CAACE,aAHrB,GAAX,EAFV,EADF,cAUE,oBAAC,KAAD,EACE,IAAI,CAAC,eADP,CAEE,MAAM,CAAE,gBAACnB,KAAD,qBAAW,oBAAC,YAAD,kBAAkBA,KAAlB,EACC,mBAAmB,CAAE,MAAI,CAACC,KAAL,CAAWG,mBADjC,CAEC,iBAAiB,CAAE,MAAI,CAACH,KAAL,CAAWE,iBAF/B,CAGC,mBAAmB,CAAE,MAAI,CAACF,KAAL,CAAWO,mBAHjC,CAIC,iBAAiB,CAAE,MAAI,CAACY,iBAJzB,GAAX,EAFV,EAVF,cAmBE,oBAAC,KAAD,EACE,IAAI,CAAC,kBADP,CAEE,MAAM,CAAE,gBAACpB,KAAD,qBAAW,oBAAC,eAAD,kBAAqBA,KAArB,EACC,eAAe,CAAE,MAAI,CAACC,KAAL,CAAWK,cAD7B,CAEC,aAAa,CAAE,MAAI,CAACL,KAAL,CAAWM,YAF3B,CAGC,eAAe,CAAE,MAAI,CAACN,KAAL,CAAWQ,cAH7B,CAIC,mBAAmB,CAAE,MAAI,CAACY,mBAJ3B,GAAX,EAFV,EAnBF,cA4BE,oBAAC,KAAD,EACE,IAAI,CAAC,mBADP,CAEE,MAAM,CAAE,gBAACrB,KAAD,qBAAW,oBAAC,gBAAD,kBAAsBA,KAAtB,EACC,aAAa,CAAE,MAAI,CAACC,KAAL,CAAWW,aAD3B,CAEC,eAAe,CAAE,MAAI,CAACX,KAAL,CAAWS,eAF7B,CAGC,eAAe,CAAE,MAAI,CAACT,KAAL,CAAWU,eAH7B,GAAX,EAFV,EA5BF,CALF,CAHF,CA+CG,KAAKV,KAAL,CAAWY,SAAX,cAAuB,oBAAC,KAAD,EAAO,UAAU,CAAE,KAAKS,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAnB,EAAvB,CAA8E,IA/CjF,CAFF,EAqDD,C,iBA3JevC,KAAK,CAACgF,S,EA8JxB,cAAe5D,CAAAA,GAAf","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport './App.css';\r\nimport NavigationBar from './components/NavigationBar/NavigationBar.js';\r\nimport SearchForm from './components/SearchForm/SearchForm.js';\r\nimport SearchFilter from './components/SearchFilter/SearchFilter.js';\r\nimport ReviewComponent from './components/ReviewComponent/ReviewComponent.js';\r\nimport CompareComponent from './components/CompareComponent/CompareComponent.js';\r\nimport Popup from './components/Popup.js';\r\nimport Particles from 'react-particles-js';\r\nimport Logo from './components/Logo/Logo';\r\nimport axios from 'axios';\r\n\r\nconst particlesOptions = {\r\n  particles: {\r\n    number: {\r\n      value: 120,\r\n      density: {\r\n        enable: true,\r\n        value_area: 800\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      searchfield: '', \r\n      yelpSearchresults: [],\r\n      googleSearchresults: [],\r\n      placeDetailsName: '', \r\n      googleReviewID: '',\r\n      yelpReviewID: '', \r\n      zomatoSearchresults: [], \r\n      zomatoReviewID: '',\r\n\r\n      googleCompareId: '',\r\n      zomatoCompareId: '',\r\n      yelpCompareId: '',\r\n      showPopup: false,      latitude: -36.848461,\r\n      longitude: 174.763336,\r\n      userCity: \"Auckland\"    }\r\n    \r\n    this.onInputChange = this.onInputChange.bind(this);\r\n    this.onSearchClick = this.onSearchClick.bind(this);\r\n\r\n    this.onSearchCardClick = this.onSearchCardClick.bind(this);\r\n    this.onAddToCompareClick = this.onAddToCompareClick.bind(this);\r\n    this.togglePopup = this.togglePopup.bind(this);\r\n\tthis.getCity = this.getCity.bind(this);\r\n if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(this.getCity);\r\n    }  }\r\n\r\n  onInputChange(event) {\r\n    this.setState({searchfield: event.target.value});\r\n\r\n  }\r\n\r\n  onSearchClick() {\r\n    fetch(`${'https://cors-anywhere.herokuapp.com/'}https://maps.googleapis.com/maps/api/place/textsearch/json?query=${this.state.searchfield}&location=${this.state.latitude},${this.state.longitude}&radius=10000&key=AIzaSyB4O1O9YEnEd8WnQ3afnSHuvDpx7vsycMw&type=restaurant`)\r\n\t\t.then(response=> response.json())\r\n      .then(data => {this.setState({ googleSearchresults: data.results})})\r\n      .then(results => {console.log(this.state.googleSearchresults.length + \" results returned from google (logged in state update)\")});\r\n\r\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search?term=${this.state.searchfield}&location=${this.state.userCity}`, { \r\n      headers : {\r\n        Authorization : `Bearer RCxaGe1TDhf1kSiIKQW9Wb9eBfhYtANwDCmKKAO5SdGMYXKQQCXu5LamK9eM8fNZp27OvCZZYjNDGVn2bucWGULytCmdxFZgXah6mB2cAl161Gj14qy_MV4R-MC0XnYx`,\r\n        'X-Requested-With': 'XMLHttpRequest'\r\n    }})\r\n      .then(response => {this.setState({yelpSearchresults: response.data.businesses});\r\n            console.log(response.data.total + \" results returned from yelp\");})\r\n      .catch(err => {console.log(\"Error in Yelp Api Call\" + err)});\r\n    \r\n      \r\n   \tfetch(`${'https://cors-anywhere.herokuapp.com/'}https://developers.zomato.com/api/v2.1/search?q=${this.state.searchfield}&count=10&lat=${this.state.latitude}&lon=${this.state.longitude}&radius=100000`, {\r\n      headers: {\r\n      Accept: \"application/json\",\r\n      \"User-Key\": \"84d624178d6b4c6219f90cd5634fd956\"\r\n      }\r\n    }).then(response => response.json())\r\n    .then(data => {this.setState({ zomatoSearchresults: data.restaurants})})\r\n    .then(results => {console.log(this.state.zomatoSearchresults)})\r\n  }\r\n\r\n  getCity(position) {\r\n    this.setState({\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude,\r\n    });\r\n    \r\n    fetch(`https://geocode.xyz/${this.state.latitude},${this.state.longitude}?json=1`)\r\n      .then(response => response.json())\r\n      .then(data => {this.setState({userCity: data.city})})\r\n      .then(console.log);\r\n  }\r\n\r\n  onSearchCardClick(name, google_id, yelp_id, zomato_id){\r\n    this.setState({placeDetailsName: name, \r\n      googleReviewID: google_id, \r\n      yelpReviewID: yelp_id,\r\n      zomatoReviewID: zomato_id\r\n    });\r\n  }\r\n\r\n  onAddToCompareClick(source, id) {\r\n    if(source === \"yelp\"){\r\n      this.setState({yelpCompareId: id});\r\n      this.togglePopup();\r\n    } else if(source === \"google reviews\") {\r\n      this.setState({googleCompareId: id});\r\n      this.togglePopup();\r\n    } else if(source === \"zomato\"){\r\n    this.setState({zomatoCompareId: id});\r\n    this.togglePopup();\r\n    }\r\n  }\r\n\r\n  togglePopup() {\r\n    this.setState({\r\n      showPopup: !this.state.showPopup\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      // Particles.js library for styling the application\r\n      <div className=\"App\">\r\n        <Particles className='particles'\r\n          params={particlesOptions}/> \r\n        <BrowserRouter> {/* using react-router-dom for routing */}\r\n          <div style={{display: 'flex', justifyContent: 'flex-end'}}>\r\n            <NavigationBar />  {/* for navigation through the app, always rendered */}\r\n          </div>\r\n          <Logo />\r\n          <Switch>\r\n            <Route path='/' \r\n              exact \r\n              render={(props) => <SearchForm {...props} \r\n                                  searchfield={this.state.searchfield} \r\n                                  onInputChange={this.onInputChange} \r\n                                  onSearchClick={this.onSearchClick} /> } \r\n            /> \r\n\r\n\r\n            <Route \r\n              path='/searchfilter' \r\n              render={(props) => <SearchFilter {...props}\r\n                                  googleSearchresults={this.state.googleSearchresults}\r\n                                  yelpSearchresults={this.state.yelpSearchresults}\r\n                                  zomatoSearchresults={this.state.zomatoSearchresults}\r\n                                  onSearchCardClick={this.onSearchCardClick}/> } \r\n            />  \r\n\r\n            <Route \r\n              path='/reviewcomponent' \r\n              render={(props) => <ReviewComponent {...props} \r\n                                  google_place_ID={this.state.googleReviewID} \r\n                                  yelp_place_ID={this.state.yelpReviewID}\r\n                                  zomato_place_ID={this.state.zomatoReviewID}\r\n                                  onAddToCompareClick={this.onAddToCompareClick} />}\r\n              /> \r\n\r\n            <Route \r\n              path='/comparecomponent'\r\n              render={(props) => <CompareComponent {...props}\r\n                                  yelpCompareId={this.state.yelpCompareId}\r\n                                  googleCompareId={this.state.googleCompareId}\r\n                                  zomatoCompareId={this.state.zomatoCompareId}\r\n                                />}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n\r\n        {this.state.showPopup ? <Popup closePopup={this.togglePopup.bind(this)}  />  : null}\r\n            \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}