{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iahme\\\\Documents\\\\Projects\\\\RestaurantReviewsTool\\\\src\\\\App.js\";\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport NavigationBar from './components/NavigationBar/NavigationBar.js';\nimport SearchForm from './components/SearchForm/SearchForm.js';\nimport SearchFilter from './components/SearchFilter/SearchFilter.js';\nimport ReviewComponent from './components/ReviewComponent/ReviewComponent.js';\nimport CompareComponent from './components/CompareComponent/CompareComponent.js';\nimport Popup from './components/Popup.js';\nimport Particles from 'react-particles-js';\nimport Logo from './components/Logo/Logo';\nimport axios from 'axios';\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 120,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchfield: '',\n      yelpSearchresults: [],\n      googleSearchresults: [],\n      placeDetailsName: '',\n      googleReviewID: '',\n      yelpReviewID: '',\n      zomatoSearchresults: [],\n      zomatoReviewID: '',\n      googleCompareId: '',\n      zomatoCompareId: '',\n      yelpCompareId: '',\n      showPopup: false,\n      latitude: -36.848461,\n      longitude: 174.763336,\n      userCity: \"Auckland\"\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onSearchClick = this.onSearchClick.bind(this);\n    this.onSearchCardClick = this.onSearchCardClick.bind(this);\n    this.onAddToCompareClick = this.onAddToCompareClick.bind(this);\n    this.togglePopup = this.togglePopup.bind(this);\n    this.getCity = this.getCity.bind(this);\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.getCity);\n    }\n  }\n\n  onInputChange(event) {\n    this.setState({\n      searchfield: event.target.value\n    });\n  }\n\n  onSearchClick() {\n    fetch(`${'https://cors-anywhere.herokuapp.com/'}https://maps.googleapis.com/maps/api/place/textsearch/json?query=${this.state.searchfield}&location=${this.state.latitude},${this.state.longitude}&radius=10000&key=AIzaSyB4O1O9YEnEd8WnQ3afnSHuvDpx7vsycMw&type=restaurant`).then(response => response.json()).then(data => {\n      this.setState({\n        googleSearchresults: data.results\n      });\n    }).then(results => {\n      console.log(this.state.googleSearchresults.length + \" results returned from google (logged in state update)\");\n    });\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search?term=${this.state.searchfield}&location=${this.state.userCity}`, {\n      headers: {\n        Authorization: `Bearer RCxaGe1TDhf1kSiIKQW9Wb9eBfhYtANwDCmKKAO5SdGMYXKQQCXu5LamK9eM8fNZp27OvCZZYjNDGVn2bucWGULytCmdxFZgXah6mB2cAl161Gj14qy_MV4R-MC0XnYx`,\n        'X-Requested-With': 'XMLHttpRequest'\n      }\n    }).then(response => {\n      this.setState({\n        yelpSearchresults: response.data.businesses\n      });\n      console.log(response.data.total + \" results returned from yelp\");\n    }).catch(err => {\n      console.log(\"Error in Yelp Api Call\" + err);\n    });\n    fetch(`${'https://cors-anywhere.herokuapp.com/'}https://developers.zomato.com/api/v2.1/search?q=${this.state.searchfield}&count=10&lat=${this.state.latitude}&lon=${this.state.longitude}&radius=100000`, {\n      headers: {\n        Accept: \"application/json\",\n        \"User-Key\": \"84d624178d6b4c6219f90cd5634fd956\"\n      }\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        zomatoSearchresults: data.restaurants\n      });\n    }).then(results => {\n      console.log(this.state.zomatoSearchresults);\n    });\n  }\n\n  getCity(position) {\n    this.setState({\n      latitude: position.coords.latitude,\n      longitude: position.coords.longitude\n    });\n    fetch(`https://geocode.xyz/${this.state.latitude},${this.state.longitude}?json=1`).then(response => response.json()).then(data => {\n      this.setState({\n        userCity: data.city\n      });\n    }).then(console.log);\n  }\n\n  onSearchCardClick(name, google_id, yelp_id, zomato_id) {\n    this.setState({\n      placeDetailsName: name,\n      googleReviewID: google_id,\n      yelpReviewID: yelp_id,\n      zomatoReviewID: zomato_id\n    });\n  }\n\n  onAddToCompareClick(source, id) {\n    if (source === \"yelp\") {\n      this.setState({\n        yelpCompareId: id\n      });\n      this.togglePopup();\n    } else if (source === \"google reviews\") {\n      this.setState({\n        googleCompareId: id\n      });\n      this.togglePopup();\n    } else if (source === \"zomato\") {\n      this.setState({\n        zomatoCompareId: id\n      });\n      this.togglePopup();\n    }\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      // Particles.js library for styling the application\n      React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Particles, {\n        className: \"particles\",\n        params: particlesOptions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }\n      }, \" \", /*#__PURE__*/React.createElement(Logo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(NavigationBar, {\n        className: \"flex items-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }), \"  \", /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        render: props => /*#__PURE__*/React.createElement(SearchForm, Object.assign({}, props, {\n          searchfield: this.state.searchfield,\n          onInputChange: this.onInputChange,\n          onSearchClick: this.onSearchClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 34\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/searchfilter\",\n        render: props => /*#__PURE__*/React.createElement(SearchFilter, Object.assign({}, props, {\n          googleSearchresults: this.state.googleSearchresults,\n          yelpSearchresults: this.state.yelpSearchresults,\n          zomatoSearchresults: this.state.zomatoSearchresults,\n          onSearchCardClick: this.onSearchCardClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 34\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/reviewcomponent\",\n        render: props => /*#__PURE__*/React.createElement(ReviewComponent, Object.assign({}, props, {\n          google_place_ID: this.state.googleReviewID,\n          yelp_place_ID: this.state.yelpReviewID,\n          zomato_place_ID: this.state.zomatoReviewID,\n          onAddToCompareClick: this.onAddToCompareClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 34\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/comparecomponent\",\n        render: props => /*#__PURE__*/React.createElement(CompareComponent, Object.assign({}, props, {\n          yelpCompareId: this.state.yelpCompareId,\n          googleCompareId: this.state.googleCompareId,\n          zomatoCompareId: this.state.zomatoCompareId,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 34\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }\n      }))), this.state.showPopup ? /*#__PURE__*/React.createElement(Popup, {\n        closePopup: this.togglePopup.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 33\n        }\n      }) : null)\n    );\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/iahme/Documents/Projects/RestaurantReviewsTool/src/App.js"],"names":["React","BrowserRouter","Route","Switch","NavigationBar","SearchForm","SearchFilter","ReviewComponent","CompareComponent","Popup","Particles","Logo","axios","particlesOptions","particles","number","value","density","enable","value_area","App","Component","constructor","props","state","searchfield","yelpSearchresults","googleSearchresults","placeDetailsName","googleReviewID","yelpReviewID","zomatoSearchresults","zomatoReviewID","googleCompareId","zomatoCompareId","yelpCompareId","showPopup","latitude","longitude","userCity","onInputChange","bind","onSearchClick","onSearchCardClick","onAddToCompareClick","togglePopup","getCity","navigator","geolocation","getCurrentPosition","event","setState","target","fetch","then","response","json","data","results","console","log","length","get","headers","Authorization","businesses","total","catch","err","Accept","restaurants","position","coords","city","name","google_id","yelp_id","zomato_id","source","id","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport './App.css';\r\nimport NavigationBar from './components/NavigationBar/NavigationBar.js';\r\nimport SearchForm from './components/SearchForm/SearchForm.js';\r\nimport SearchFilter from './components/SearchFilter/SearchFilter.js';\r\nimport ReviewComponent from './components/ReviewComponent/ReviewComponent.js';\r\nimport CompareComponent from './components/CompareComponent/CompareComponent.js';\r\nimport Popup from './components/Popup.js';\r\nimport Particles from 'react-particles-js';\r\nimport Logo from './components/Logo/Logo';\r\nimport axios from 'axios';\r\n\r\nconst particlesOptions = {\r\n  particles: {\r\n    number: {\r\n      value: 120,\r\n      density: {\r\n        enable: true,\r\n        value_area: 800\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      searchfield: '', \r\n      yelpSearchresults: [],\r\n      googleSearchresults: [],\r\n      placeDetailsName: '', \r\n      googleReviewID: '',\r\n      yelpReviewID: '', \r\n      zomatoSearchresults: [], \r\n      zomatoReviewID: '',\r\n\r\n      googleCompareId: '',\r\n      zomatoCompareId: '',\r\n      yelpCompareId: '',\r\n      showPopup: false,      latitude: -36.848461,\r\n      longitude: 174.763336,\r\n      userCity: \"Auckland\"    }\r\n    \r\n    this.onInputChange = this.onInputChange.bind(this);\r\n    this.onSearchClick = this.onSearchClick.bind(this);\r\n\r\n    this.onSearchCardClick = this.onSearchCardClick.bind(this);\r\n    this.onAddToCompareClick = this.onAddToCompareClick.bind(this);\r\n    this.togglePopup = this.togglePopup.bind(this);\r\n\tthis.getCity = this.getCity.bind(this);\r\n if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(this.getCity);\r\n    }  }\r\n\r\n  onInputChange(event) {\r\n    this.setState({searchfield: event.target.value});\r\n\r\n  }\r\n\r\n  onSearchClick() {\r\n    fetch(`${'https://cors-anywhere.herokuapp.com/'}https://maps.googleapis.com/maps/api/place/textsearch/json?query=${this.state.searchfield}&location=${this.state.latitude},${this.state.longitude}&radius=10000&key=AIzaSyB4O1O9YEnEd8WnQ3afnSHuvDpx7vsycMw&type=restaurant`)\r\n\t\t.then(response=> response.json())\r\n      .then(data => {this.setState({ googleSearchresults: data.results})})\r\n      .then(results => {console.log(this.state.googleSearchresults.length + \" results returned from google (logged in state update)\")});\r\n\r\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search?term=${this.state.searchfield}&location=${this.state.userCity}`, { \r\n      headers : {\r\n        Authorization : `Bearer RCxaGe1TDhf1kSiIKQW9Wb9eBfhYtANwDCmKKAO5SdGMYXKQQCXu5LamK9eM8fNZp27OvCZZYjNDGVn2bucWGULytCmdxFZgXah6mB2cAl161Gj14qy_MV4R-MC0XnYx`,\r\n        'X-Requested-With': 'XMLHttpRequest'\r\n    }})\r\n      .then(response => {this.setState({yelpSearchresults: response.data.businesses});\r\n            console.log(response.data.total + \" results returned from yelp\");})\r\n      .catch(err => {console.log(\"Error in Yelp Api Call\" + err)});\r\n    \r\n      \r\n   \tfetch(`${'https://cors-anywhere.herokuapp.com/'}https://developers.zomato.com/api/v2.1/search?q=${this.state.searchfield}&count=10&lat=${this.state.latitude}&lon=${this.state.longitude}&radius=100000`, {\r\n      headers: {\r\n      Accept: \"application/json\",\r\n      \"User-Key\": \"84d624178d6b4c6219f90cd5634fd956\"\r\n      }\r\n    }).then(response => response.json())\r\n    .then(data => {this.setState({ zomatoSearchresults: data.restaurants})})\r\n    .then(results => {console.log(this.state.zomatoSearchresults)})\r\n  }\r\n\r\n  getCity(position) {\r\n    this.setState({\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude,\r\n    });\r\n    \r\n    fetch(`https://geocode.xyz/${this.state.latitude},${this.state.longitude}?json=1`)\r\n      .then(response => response.json())\r\n      .then(data => {this.setState({userCity: data.city})})\r\n      .then(console.log);\r\n  }\r\n\r\n  onSearchCardClick(name, google_id, yelp_id, zomato_id){\r\n    this.setState({placeDetailsName: name, \r\n      googleReviewID: google_id, \r\n      yelpReviewID: yelp_id,\r\n      zomatoReviewID: zomato_id\r\n    });\r\n  }\r\n\r\n  onAddToCompareClick(source, id) {\r\n    if(source === \"yelp\"){\r\n      this.setState({yelpCompareId: id});\r\n      this.togglePopup();\r\n    } else if(source === \"google reviews\") {\r\n      this.setState({googleCompareId: id});\r\n      this.togglePopup();\r\n    } else if(source === \"zomato\"){\r\n    this.setState({zomatoCompareId: id});\r\n    this.togglePopup();\r\n    }\r\n  }\r\n\r\n  togglePopup() {\r\n    this.setState({\r\n      showPopup: !this.state.showPopup\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      // Particles.js library for styling the application\r\n      <div className=\"App\">\r\n        <Particles className='particles'\r\n          params={particlesOptions}/> \r\n        <BrowserRouter> {/* using react-router-dom for routing */}\r\n          <Logo />\r\n          <NavigationBar className=\"flex items-end\"/>  {/* for navigation through the app, always rendered */}\r\n          <Switch>\r\n            <Route path='/' \r\n              exact \r\n              render={(props) => <SearchForm {...props} \r\n                                  searchfield={this.state.searchfield} \r\n                                  onInputChange={this.onInputChange} \r\n                                  onSearchClick={this.onSearchClick} /> } \r\n            /> \r\n\r\n\r\n            <Route \r\n              path='/searchfilter' \r\n              render={(props) => <SearchFilter {...props}\r\n                                  googleSearchresults={this.state.googleSearchresults}\r\n                                  yelpSearchresults={this.state.yelpSearchresults}\r\n                                  zomatoSearchresults={this.state.zomatoSearchresults}\r\n                                  onSearchCardClick={this.onSearchCardClick}/> } \r\n            />  \r\n\r\n            <Route \r\n              path='/reviewcomponent' \r\n              render={(props) => <ReviewComponent {...props} \r\n                                  google_place_ID={this.state.googleReviewID} \r\n                                  yelp_place_ID={this.state.yelpReviewID}\r\n                                  zomato_place_ID={this.state.zomatoReviewID}\r\n                                  onAddToCompareClick={this.onAddToCompareClick} />}\r\n              /> \r\n\r\n            <Route \r\n              path='/comparecomponent'\r\n              render={(props) => <CompareComponent {...props}\r\n                                  yelpCompareId={this.state.yelpCompareId}\r\n                                  googleCompareId={this.state.googleCompareId}\r\n                                  zomatoCompareId={this.state.zomatoCompareId}\r\n                                />}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n\r\n        {this.state.showPopup ? <Popup closePopup={this.togglePopup.bind(this)}  />  : null}\r\n            \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}